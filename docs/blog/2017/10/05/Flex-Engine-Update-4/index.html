<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"https://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Flex Engine Update 4</title>
  <meta name="description" content="AJ Weeks - Graphics Programmer">

  <meta name="viewport" content="width=425">

  <link rel="preload" href="css/monokai.css" as="style">

  <link rel="shortcut icon" href="https://ajweeks.com/logo.ico" />

  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.rawgit.com/konpa/devicon/master/devicon.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/devicons/1.8.0/css/devicons.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="/css/main.css">

  <link rel="alternate" type="application/rss+xml" title="Subscribe" href="https://ajweeks.com/feed.xml" />

  <script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.3.5/jquery.fancybox.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.3.5/jquery.fancybox.min.js"></script>
</head>

  <body>
      <div id="page-header">
  <div class="row content">
    <a href="/" style="color: #fff; text-decoration: none"><span class="site-title">AJ Weeks</span></a>

    <div class="icons-header">
      <div class="tooltip">
        <a aria-label="Send email" href="mailto:contact@ajweeks.com"><i class="icon fa fa-envelope"></i></a>
      </div>
      <div class="tooltip">
        <a aria-label="My Twitter" target="_blank" href="https://twitter.com/liqwidice"><i class="icon fa fa-twitter" aria-hidden="true"></i></a>
      </div>
      <div class="tooltip">
        <a aria-label="My Github" target="_blank" href="https://github.com/ajweeks"><i class="icon fa fa-github-alt" aria-hidden="true"></i></a>
      </div>
    </div>
    <!-- <a class="link" href="/Andrew-Weeks-Resume.pdf">
      <img src="/assets/img/pdf.svg" width="28px" height="28px" style="padding-right: 3px" />
      PDF Resume
    </a> -->
  </div>

  <!-- <div class="content" style="column-count: 2">
    <div class="shrinker">
      <h1>
        <a href="/" style="color: #fff; text-decoration: none"><span class="site-title">AJ Weeks</span></a>
        <span class="site-description"></span>
      </h1>
    </div>
    <div>
      <div class="icons-header">
        <a aria-label="Send email" href="mailto:contact@ajweeks.com"><i class="icon fa fa-envelope"></i></a>
        <a aria-label="My Twitter" target="_blank" href="https://twitter.com/liqwidice"><i class="icon fa fa-twitter" aria-hidden="true"></i></a>
        <a aria-label="My Github" target="_blank" href="https://github.com/ajweeks"><i class="icon fa fa-github-alt" aria-hidden="true"></i></a>
      </div>
      <a class="link" href="/Andrew-Weeks-Resume.pdf">
        <img src="/assets/img/pdf.svg" width="28px" height="28px" style="padding-right: 3px" />
        PDF Resume
      </a>
    </div>
  </div> -->
</div>

      <section style="height: 20px"></section>
      <section class="container">
        <article class="post" itemscope itemtype="https://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Flex Engine Update 4</h1>
    <p class="post-meta"><time datetime="2017-10-05T00:00:00+01:00" itemprop="datePublished">Oct 5, 2017</time> • <span itemprop="author" itemscope itemtype="https://schema.org/Person"><span itemprop="name">AJ Weeks</span></span></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Since the last post, I’ve decided on a name for this project – Flex Engine! I basically decided on it because it sounded neat, it’s short, and it’s easy to remember. However, as other people have pointed out it’s actually quite fitting to the project itself since both OpenGL and Vulkan are supported the engine is kind of Flexible.</p>

<p>Other than deciding on a name, I’ve also made quite a bit of real progress on the engine. Starting about two weeks ago I began working full-time on the project, which is letting me progress much faster. As mentioned at the end of the previous entry, the next items on my to-do list were; skyboxes, deferred shading, and Physically Based Rendering, or PBR. Skyboxes were quickly checked off the list, then I moved on to the other two.</p>

<p>I started off the full-time period by finishing the final bits of deferred shading. I then began tackling PBR. If you haven’t heard of it, it’s basically just an alternative set of techniques used for lighting objects. The typical “beginner” algorithm used for lighting calculations is called Blinn-Phong, and while it works alright, it’s about forty years old and we can do much better.</p>

<div width="100%">
  <a data-fancybox="gallery" href="/assets/img/flex-engine-10.jpg"><img src="/assets/img/flex-engine-10.jpg" width="49%" /></a>
  <a data-fancybox="gallery" href="/assets/img/flex-engine-11.jpg"><img src="/assets/img/flex-engine-11.jpg" width="49%" /></a>
  <span class="caption">PBR (left), Blinn-Phong (right)</span>
</div>

<p>While this comparison is slightly exaggerated since the textures were authored using the PBR workflow, one clearly looks more like a rusted iron ball.</p>

<p>After that was implemented in both OpenGL and Vulkan, I moved on to adding support for a feature commonly associated with PBR – Image Based Lighting, or IBL. It is an attempt to take into account the environment’s effect on an object’s final color. It adds a great deal of realism and it really makes PBR shine.</p>

<p><a data-fancybox="gallery" href="/assets/img/flex-engine-12.jpg"><img src="/assets/img/flex-engine-12.jpg" width="100%" /></a>
<span class="caption">Progress on IBL (not quite there yet)</span></p>

<p>Once IBL is fully implemented in both APIs, I will begin working on adding support for reflection probes. The general idea is this: instead of sampling a global cubemap for all objects (like above), individual snapshots of different parts of the world are taken and then used depending on each object’s position. One example of why this is needed is seeing reflections of clouds on objects that are indoors tends to look a bit off. Reflection probes can be placed around the world (some inside, some outside) and objects will use a blend of the nearest cubemap captures to create more realistic reflections. Stay tuned for updates on that!</p>

  </div>

  <div class="post-nav">
      <div style="float:left; width:40%; text-align:left"><a class="underline" href="/blog/2017/08/16/Rendering-Engine-Update-3/">&lt; Rendering Engine Update 3</a></div>
      <div style="width:20%; text-align:center; display:inline-block"><a class="underline" href="/blog" style="width:33.33%">Index</a></div>
      <div style="float:right; width:40%; text-align:right"><a class="underline" href="/blog/2017/11/11/Relaxing/" style="float:right width:33.33%">Relaxing &gt;</a></div>
  </div>

</article>

<p style="text-align: right; padding-top: 30px" class="rss-subscribe">
  <a class="underline" href="/feed.xml">Subscribe</a>
  <a aria-label="" target="_blank" href="/feed.xml"><i class="icon fa fa-rss-square" aria-hidden="true"></i></a>
</p>

      </section>
      <footer class="footer">
  <div class="footerlinks">
    <div class="section-left">
      <a class="underline" href="/games/">All games</a>
      <a class="underline" href="/Andrew-Weeks-Resume.pdf">PDF resume</a>
      <a class="underline" href="/about/">About</a>
    </div>
    <div class="section-right">
      <a class="underline" href="/blog">Blog</a>
      <a class="underline" href="/Andrew-Weeks-CV.pdf">CV</a>
      <a class="underline" href="/contact/">Contact</a>
    </div>
  </div>
  <p>&copy; AJ Weeks</p>
  <a rel="me" href="https://mastodon.gamedev.place/@ajweeks"></a>
</footer>
<script src="/assets/js/sweet-scroll.min.js"></script>
<script src="/assets/js/main.js"></script>
<!-- Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-57413391-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-57413391-2');
</script>



  </body>
</html>
